\documentclass[11pt]{article}\usepackage[]{graphicx}\usepackage[]{color}
% maxwidth is the original width if it is less than linewidth
% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}

\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\selectlanguage{polish}
\usepackage{graphicx}
\usepackage{float}
\usepackage[a4paper, total={6.5in, 9in}]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage[hidelinks]{hyperref}
\usepackage{tabularx}
\usepackage{fancyhdr}
\pagestyle{fancy}

\urlstyle{rm}
  
\usepackage{setspace}
\newtheorem{stat}{Statement}
\newtheorem{theorem}{Theorem}
\newtheorem{defi}{Definition}
\newtheorem{lem}[stat]{Lemma}
\newtheorem{ex}{Example}[section]
\newtheorem{fact}{Fact}

\frenchspacing
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}


\title{Bank Marketing data (with social/economic context)}
\author{Maciej Maæˆ¼ã¸³ecki}
\maketitle
\abstract{W pliku Bank Marketing data.csv znajdujæˆ¼ã¸¹ siæ”¼ã¹¡ dane charakteryzujæˆ¼ã¸¹ce klientæ˜¼ã¸³w pewnego banku oraz kampanie marketingowe skierowane do tych klientæ˜¼ã¸³w. Doæˆ¼ã¸³æˆ¼ã¸¹czone sæˆ¼ã¸¹ ponadto wskaã¤¼ã¹¦niki spoæˆ¼ã¸³eczne i ekonomiczne. Na podstawie tych danych naleæˆ¼ã¹¦y zbudowaæ”¼ã¸¶ model prognozujæˆ¼ã¸¹cy szansæ”¼ã¹¡, æˆ¼ã¹¦e klient w wyniku prowadzonej kampanii zaæˆ¼ã¸³oæˆ¼ã¹¦y lokatæ”¼ã¹¡ terminowæˆ¼ã¸¹.}
\tableofcontents

\newpage

\section{Wprowadzenie}
\subsection{Opis problemu}
W ramach kampani marketingowej organizowanej przez pewien bank w latach miæ”¼ã¹¡dzy majem 2008 rok, a listopadem 2010 roku, byæˆ¼ã¸³y zbierane informacje na temat klientæ˜¼ã¸³w tego banku. 
Na podstawie tych danych planowane jest przewidzenie, czy i jakie rodzaj klientæ˜¼ã¸³w kupi lokatæ”¼ã¹¡ terminowæˆ¼ã¸¹ w tym banku.

\subsection{Opis danych}
Nasze dane zawierajæˆ¼ã¸¹ 21 column danych. Kolumny moæˆ¼ã¹¦emy podzieliæ”¼ã¸¶ na 3 grupy:

\textbf{I: Zmienne zwiæˆ¼ã¸¹zane z danymi klienta bankowego:}

\begin{enumerate}
\item Wiek (age): wiek klienta.
\item Praca (job): rodzaj pracy klienta.
\item Stan cywilny (marital): stan cywilny klienta.
\item Edukacja (education): edukacja klienta.
\item Domyã¤¼ã¹£lnie (default): Klient wczeã¤¼ã¹£niej domyã¤¼ã¹£lnie miaæˆ¼ã¸³ kredyt.
\item Mieszkanie (housing): Klient ma kredyt mieszkaniowy.
\item Poæˆ¼ã¹¦yczka (loan): Klient ma osobistæˆ¼ã¸¹ poæˆ¼ã¹¦yczkæ”¼ã¹¡.
\end{enumerate}


\textbf{II: Zmienne zwiæˆ¼ã¸¹zane z ostatnim kontaktem bieæˆ¼ã¹¦æˆ¼ã¸¹cej kampanii marketingowej:}

\begin{enumerate}
\setcounter{enumi}{7}
\item Kontakt (contact): Typ komunikacji kontaktowej (telefonicznej lub komæ˜¼ã¸³rkowej).
\item Miesiæˆ¼ã¸¹c (month): Ostatni kontakt miesiæˆ¼ã¸¹ca roku.
\item Dzieæ˜¼ã¸± tygodnia (day of week): dzieæ˜¼ã¸± ostatniego kontaktu tygodnia.
\item Czas trwania (duration): czas trwania ostatniego kontaktu w sekundach. Jeã¤¼ã¹£li czas trwania wynosi 0, nigdy nie skontaktowaliã¤¼ã¹£my siæ”¼ã¹¡ z klientem, aby zaæˆ¼ã¸³oæˆ¼ã¹¦yæ”¼ã¸¶ konto lokaty terminowej.
\item Kampania (campaign): liczba kontaktæ˜¼ã¸³w wykonanych podczas tej kampanii i dla tego klienta
\item Liczba dni (pdays): liczba dni, ktæ˜¼ã¸³re upæˆ¼ã¸³ynæ”¼ã¹¡æˆ¼ã¸³y od ostatniego kontaktu klienta z poprzedniej kampanii (wartoã¤¼ã¹£æ”¼ã¸¶ liczbowa; 999 oznacza, æˆ¼ã¹¦e klient wczeã¤¼ã¹£niej siæ”¼ã¹¡ nie skontaktowaæˆ¼ã¸³)
\item Poprzedni (previous): liczba kontaktæ˜¼ã¸³w wykonanych przed tæˆ¼ã¸¹ kampaniæˆ¼ã¸¹ i dla tego klienta (numerycznie)
\item Poutcome: wynik poprzedniej kampanii marketingowej (kategorycznie: ã ¼ã¸´poraæˆ¼ã¹¦kaã¤¼ã¸´, ã ¼ã¸´nieistniejæˆ¼ã¸¹caã¤¼ã¸´, ã ¼ã¸´sukcesã¤¼ã¸´)
\end{enumerate}

\textbf{III: Atrybuty kontekstu spoæˆ¼ã¸³ecznego i gospodarczego:}

\begin{enumerate}
\setcounter{enumi}{15}
\item Emp.var.rate: wskaã¤¼ã¹¦nik zmiennoã¤¼ã¹£ci zatrudnienia - wskaã¤¼ã¹¦nik kwartalny 
\item Cons.price.idx: wskaã¤¼ã¹¦nik cen konsumpcyjnych - wskaã¤¼ã¹¦nik miesiæ”¼ã¹¡czny 
\item Cons.conf.idx: wskaã¤¼ã¹¦nik zaufania konsumentæ˜¼ã¸³w - wskaã¤¼ã¹¦nik miesiæ”¼ã¹¡czny 
\item Euribor3m: stawka 3-miesiæ”¼ã¹¡czna euribor - wskaã¤¼ã¹¦nik dzienny 
\item Liczba zatrudnionych (nr employed): liczba pracownikæ˜¼ã¸³w - wskaã¤¼ã¹¦nik kwartalny 
\end{enumerate}


\textbf{Zmienna wyjã¤¼ã¹£ciowa (poæˆ¼ã¹¦æˆ¼ã¸¹dany cel):}

\begin{enumerate}
\setcounter{enumi}{20}
\item y - czy klient subskrybowaæˆ¼ã¸³ lokatæ”¼ã¹¡? (dwæ˜¼ã¸³jkowy: ã ¼ã¸´takã¤¼ã¸´, ã ¼ã¸´nieã¤¼ã¸´)
\end{enumerate}

\subsection{Wstæ”¼ã¹¡pna eksploracja danych}



Badane dane zawieraj¹ 4119 wierszy oraz 21 kolumn o nastêpuj¹cych nazwach:

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
##  [1] "age"            "job"            "marital"        "education"     
##  [5] "default"        "housing"        "loan"           "contact"       
##  [9] "month"          "day_of_week"    "duration"       "campaign"      
## [13] "pdays"          "previous"       "poutcome"       "emp.var.rate"  
## [17] "cons.price.idx" "cons.conf.idx"  "euribor3m"      "nr.employed"   
## [21] "y"
\end{verbatim}
\end{kframe}
\end{knitrout}

Struktura danych:
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{str}\hlstd{(df_bank)}
\end{alltt}
\begin{verbatim}
## 'data.frame':	4119 obs. of  21 variables:
##  $ age           : int  30 39 25 38 47 32 32 41 31 35 ...
##  $ job           : chr  "blue-collar" "services" "services" "services" ...
##  $ marital       : chr  "married" "single" "married" "married" ...
##  $ education     : chr  "basic.9y" "high.school" "high.school" "basic.9y" ...
##  $ default       : chr  "no" "no" "no" "no" ...
##  $ housing       : chr  "yes" "no" "yes" "unknown" ...
##  $ loan          : chr  "no" "no" "no" "unknown" ...
##  $ contact       : chr  "cellular" "telephone" "telephone" "telephone" ...
##  $ month         : chr  "may" "may" "jun" "jun" ...
##  $ day_of_week   : chr  "fri" "fri" "wed" "fri" ...
##  $ duration      : int  487 346 227 17 58 128 290 44 68 170 ...
##  $ campaign      : int  2 4 1 3 1 3 4 2 1 1 ...
##  $ pdays         : int  999 999 999 999 999 999 999 999 999 999 ...
##  $ previous      : int  0 0 0 0 0 2 0 0 1 0 ...
##  $ poutcome      : chr  "nonexistent" "nonexistent" "nonexistent" "nonexistent" ...
##  $ emp.var.rate  : num  -1.8 1.1 1.4 1.4 -0.1 -1.1 -1.1 -0.1 -0.1 1.1 ...
##  $ cons.price.idx: num  92.9 94 94.5 94.5 93.2 ...
##  $ cons.conf.idx : num  -46.2 -36.4 -41.8 -41.8 -42 -37.5 -37.5 -42 -42 -36.4 ...
##  $ euribor3m     : num  1.31 4.86 4.96 4.96 4.19 ...
##  $ nr.employed   : num  5099 5191 5228 5228 5196 ...
##  $ y             : chr  "no" "no" "no" "no" ...
\end{verbatim}
\end{kframe}
\end{knitrout}

Czy w danych znajduj¹ siê wartoœci typu \verb+NaN+ lub \verb+Na+ ?
\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
## [1] FALSE
\end{verbatim}
\end{kframe}
\end{knitrout}

Jednak¿e wiemy, ¿e w danych wystêpuj¹ wartoœci brakuj¹ce i s¹ one opisa "unknown". W danych znajduje siê 1230  rekordów z wartoœci¹ "unknown" rozmieszczonych w 1029 ró¿nych wierszach. To stanowi $24.98\% $ wszystkich wierszy w naszej badzie danych, wiêc nie mo¿emy pozwoliæ sobie na usuniêcie tych wszystkich informacji. W tabeli 1 znajduj¹ siê informacje na temat liczny nieznanych wartoœci  w ka¿dej z kolumn z osobna.




\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}


{\ttfamily\noindent\bfseries\color{errorcolor}{\#\# Error: nie znaleziono obiektu 'Number\_of\_unknown'}}

{\ttfamily\noindent\bfseries\color{errorcolor}{\#\# Error in eval(expr, envir, enclos): nie znaleziono obiektu 'table\_unknown'}}\end{kframe}
\end{knitrout}
\newpage

\section{Analiza eksploracyjna}


W tej sekcji zostanie omówiony ka¿dy parametr z osobna. Nastêpnie dane zostan¹ odpowiednio przygotowane do wykorzystania ich w modelach predykcyjnych.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsection{Age}
Przedzia³ wiekowy osób bior¹cych kredyt szacuje siê miedzy 18 rokiem ¿ycia, a 88 rokiem ¿ycia. Jednak¿e mo¿na zauwa¿yæ,
¿e osoby które ukoñczy³y 60 rok ¿ycia z wiêksz¹ chêci¹ bra³y lokaty, ni¿ tego nie robi³y. Œredni wiek utrzymuje siê na poziomie 40 lat.
Wiedz¹c, ¿e osoby odk³adaj¹ na lokaty fundusze wtedy, kiedy dobrze zaczynaj¹ zarabniaæ to podzieli³bym ludzi ze wzglêdu na wiek.
 Miêdzy wiekiem [MIN, 30] <- young, [30,65] <- worker, [65, MAX] <- pensioner. Taki podzia³ powinien u³atwiæ analizê przysz³ych algorytmów.



\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   18.00   32.00   38.00   40.11   47.00   88.00
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{figure}[H]

{\centering \includegraphics[width=\maxwidth]{figure/unnamed-chunk-10-1} 

}

\caption[Histogram wieku klient<U+663C><U+3E33>w w zale<U+623C><U+3E66>no<U+393C><U+3E63>ci od wzi<U+653C><U+3E61>cia lokaty d<U+623C><U+3E33>ugoterminowej]{Histogram wieku klient<U+663C><U+3E33>w w zale<U+623C><U+3E66>no<U+393C><U+3E63>ci od wzi<U+653C><U+3E61>cia lokaty d<U+623C><U+3E33>ugoterminowej.}\label{fig:unnamed-chunk-10}
\end{figure}


\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{figure}[H]

{\centering \includegraphics[width=\maxwidth]{figure/unnamed-chunk-11-1} 

}

\caption[Boxplot wieku klient<U+663C><U+3E33>w w zale<U+623C><U+3E66>no<U+393C><U+3E63>ci od wzi<U+653C><U+3E61>cia lokaty d<U+623C><U+3E33>ugoterminowej]{Boxplot wieku klient<U+663C><U+3E33>w w zale<U+623C><U+3E66>no<U+393C><U+3E63>ci od wzi<U+653C><U+3E61>cia lokaty d<U+623C><U+3E33>ugoterminowej.}\label{fig:unnamed-chunk-11}
\end{figure}


\end{knitrout}



%---------------------------------------------------------------------------------------------------------------------------------------%
%---------------------------------------------------------------------------------------------------------------------------------------%

\subsection{Job}
W tej kolumnie mamy 39 wartoœci nieznanych, co stanowi ledwo 1\% ca³ego zbioru, wiêc pozbywamy siê wierszy, które zawieraj¹ tê informacjê.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{figure}[H]

{\centering \includegraphics[width=\maxwidth]{figure/unnamed-chunk-13-1} 

}

\caption[New Figure]{New Figure}\label{fig:unnamed-chunk-13}
\end{figure}


\end{knitrout}


\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  4119 
## 
##  
##               | y 
##           job |        no |       yes | Row Total | 
## --------------|-----------|-----------|-----------|
##        admin. |       879 |       133 |      1012 | 
##               |     0.869 |     0.131 |     0.246 | 
## --------------|-----------|-----------|-----------|
##   blue-collar |       823 |        61 |       884 | 
##               |     0.931 |     0.069 |     0.215 | 
## --------------|-----------|-----------|-----------|
##  entrepreneur |       140 |         8 |       148 | 
##               |     0.946 |     0.054 |     0.036 | 
## --------------|-----------|-----------|-----------|
##     housemaid |        99 |        11 |       110 | 
##               |     0.900 |     0.100 |     0.027 | 
## --------------|-----------|-----------|-----------|
##    management |       294 |        30 |       324 | 
##               |     0.907 |     0.093 |     0.079 | 
## --------------|-----------|-----------|-----------|
##       retired |       128 |        38 |       166 | 
##               |     0.771 |     0.229 |     0.040 | 
## --------------|-----------|-----------|-----------|
## self-employed |       146 |        13 |       159 | 
##               |     0.918 |     0.082 |     0.039 | 
## --------------|-----------|-----------|-----------|
##      services |       358 |        35 |       393 | 
##               |     0.911 |     0.089 |     0.095 | 
## --------------|-----------|-----------|-----------|
##       student |        63 |        19 |        82 | 
##               |     0.768 |     0.232 |     0.020 | 
## --------------|-----------|-----------|-----------|
##    technician |       611 |        80 |       691 | 
##               |     0.884 |     0.116 |     0.168 | 
## --------------|-----------|-----------|-----------|
##    unemployed |        92 |        19 |       111 | 
##               |     0.829 |     0.171 |     0.027 | 
## --------------|-----------|-----------|-----------|
##       unknown |        35 |         4 |        39 | 
##               |     0.897 |     0.103 |     0.009 | 
## --------------|-----------|-----------|-----------|
##  Column Total |      3668 |       451 |      4119 | 
## --------------|-----------|-----------|-----------|
## 
## 
\end{verbatim}
\end{kframe}
\end{knitrout}
































\end{document}
